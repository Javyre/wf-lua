<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>wf-lua documentation</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>
<div id="container">
<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->
<div id="main">
<!-- Menu -->
<nav id="navigation">
<br/>
<h1>wf-lua</h1>
<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Class_Output">Class Output </a></li>
<li><a href="#Class_View">Class View </a></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>wf</strong></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="topics/readme.md.html">readme</a></li>
</ul>
<h2>Source</h2>
<ul class="nowrap">
  <li><a href="source/wf.lua.html">wf.lua</a></li>
</ul>
</nav> <!-- id="navigation" -->
<div id="content" class="">
<div class="module-info">
<h1>Module <code>wf</code></h1>
<p>High-level lua bindings to wayfire's API.</p>
<p>

</p>
    <h3>Info:</h3>
    <ul>
        <li><strong>License</strong>: GPL-v3</li>
        <li><strong>Author</strong>: Javier A. Pollak</li>
    </ul>
<br>
<h2><a href="#Functions">Functions</a></h2>
<div class="function_list toc_list">
	<div class="name"><a href="#outputs:hook">outputs:hook (signal, handler)</a></div>
	<div class="summary">Hook into a signal on all outputs.</div>
	<div class="name"><a href="#outputs:unhook">outputs:unhook (signal, handler)</a></div>
	<div class="summary">Unhook from a signal on all outputs.</div>
	<div class="name"><a href="#set">set (args)</a></div>
	<div class="summary">Set option values in a given section.</div>
</div>
<br>
<h2><a href="#Class_Output">Class Output </a></h2>
<div class="function_list toc_list">
	<div class="name"><a href="#Output:get_screen_size">Output:get_screen_size (self)</a></div>
	<div class="summary">Get the screen size of this output.</div>
	<div class="name"><a href="#Output:get_relative_geometry">Output:get_relative_geometry (self)</a></div>
	<div class="summary">Get the screen size of this output as a Geometry.</div>
	<div class="name"><a href="#Output:get_layout_geometry">Output:get_layout_geometry (self)</a></div>
	<div class="summary">Get the geometry of the screen.</div>
	<div class="name"><a href="#Output:ensure_pointer">Output:ensure_pointer (self, center)</a></div>
	<div class="summary">Ensure the pointer is on this output.</div>
	<div class="name"><a href="#Output:get_cursor_position">Output:get_cursor_position (self)</a></div>
	<div class="summary">Get the cursor position relative to the output.</div>
	<div class="name"><a href="#Output:get_top_view">Output:get_top_view (self)</a></div>
	<div class="summary">Get the view at the top of the workspace layer.</div>
	<div class="name"><a href="#Output:get_active_view">Output:get_active_view (self)</a></div>
	<div class="summary">Get the most recently focused view on this output.</div>
	<div class="name"><a href="#Output:focus_view">Output:focus_view (self, view, raise)</a></div>
	<div class="summary">Try to focus the view on this output.</div>
	<div class="name"><a href="#Output:ensure_visible">Output:ensure_visible (self, view)</a></div>
	<div class="summary">Switch workspaces to make this view visible.</div>
	<div class="name"><a href="#Output:get_workarea">Output:get_workarea (self)</a></div>
	<div class="summary">Get the output's workarea geometry.</div>
</div>
<br>
<h2><a href="#Class_View">Class View </a></h2>
<div class="function_list toc_list">
	<div class="name"><a href="#View:get_title">View:get_title (self)</a></div>
	<div class="summary">Get the view's title.</div>
	<div class="name"><a href="#View:get_app_id">View:get_app_id (self)</a></div>
	<div class="summary">Get the view's app id.</div>
	<div class="name"><a href="#View:get_wm_geometry">View:get_wm_geometry (self)</a></div>
	<div class="summary">Get the view's wm geometry.</div>
	<div class="name"><a href="#View:get_output_geometry">View:get_output_geometry (self)</a></div>
	<div class="summary">Get the view's output geometry.</div>
	<div class="name"><a href="#View:get_bounding_box">View:get_bounding_box (self)</a></div>
	<div class="summary">Get the view's bounding box.</div>
	<div class="name"><a href="#View:get_output">View:get_output (self)</a></div>
	<div class="summary">Get the view's output.</div>
	<div class="name"><a href="#View:set_geometry">View:set_geometry (self, geo)</a></div>
	<div class="summary">Set the view's geometry.</div>
	<div class="name"><a href="#View:hook">View:hook (self, signal, handler)</a></div>
	<div class="summary">Hook into a signal on this view.</div>
	<div class="name"><a href="#View:unhook">View:unhook (self, signal, handler)</a></div>
	<div class="summary">Unhook from a signal on this view.</div>
</div>
<br/>
</div> <!-- id="module-info" -->
    <h2 class="section-header ">
        <a name="Functions"></a>
        Functions
    </h2>
    <div class="section-content">

    <dl class="function">
    <dt>
    <a name = "outputs:hook"></a>
    <pre class="signature"><span class="keyword">function</span> outputs:hook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(output,data)</code></span>): <span class="backtick"><code>fn(output,data)</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#228">line 228</a>
    </dt>
    <dd>
    Hook into a signal on all outputs. </p>

<p> Start listening for and calling <code>handler</code> on this signal.
 <code>output</code> is the specific <a href="index.html#Output">Output</a> that triggered the signal.
 The type of <code>data</code> depends on the signal being listened for.
 See (TODO: signal definitions page).
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> wf = <span class="global">require</span> <span class="string">'wf'</span>

wf.outputs:hook(<span class="string">'view-focused'</span>, <span class="keyword">function</span>(output, data)
    <span class="global">print</span>(<span class="string">'View '</span>, data.view, <span class="string">' focused on output '</span>, output)
<span class="keyword">end</span>)</pre></li>
        <li><pre class="example"><span class="global">assert</span>(handler == wf.outputs:hook(<span class="string">'view-focused'</span>, handler))</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "outputs:unhook"></a>
    <pre class="signature"><span class="keyword">function</span> outputs:unhook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(output,data)</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#266">line 266</a>
    </dt>
    <dd>
    Unhook from a signal on all outputs. </p>

<p> Stop listening for and calling <code>handler</code> on this signal.
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> handler = wf.outputs:hook(<span class="string">'view-focused'</span>,
                                <span class="keyword">function</span>(output, data) <span class="keyword">end</span>)
wf.outputs:unhook(<span class="string">'view-focused'</span>, handler)</pre></li>
        <li><pre class="example"><span class="keyword">local</span> handler = <span class="keyword">function</span>() <span class="keyword">end</span>
wf.outputs:hook(<span class="string">'view-mapped'</span>, handler)
wf.outputs:hook(<span class="string">'view-focused'</span>, handler)
wf.outputs:unhook(<span class="string">'view-mapped'</span>, handler)
wf.outputs:unhook(<span class="string">'view-focused'</span>, handler)</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "set"></a>
    <pre class="signature"><span class="keyword">function</span> set(args: <span class="backtick"><code>{section,option=value,...}</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#306">line 306</a>
    </dt>
    <dd>
    Set option values in a given section. </p>

<p> The section and option names must already be registered in wayfire by it or
 some plugin.
    <h3>Usage:</h3>
    <ul class="examples">
        <pre class="example"><span class="comment">--The arguments are passed in the form:
</span>set { <span class="string">'section'</span>, option = value, ...}

<span class="comment">-- The wayfire.ini equivalent:
</span><span class="comment">--
</span><span class="comment">-- [section]
</span><span class="comment">-- option = value
</span><span class="comment">-- ...</span></pre>
    </ul>
</dd>
</dl>
</div> <!-- class="section-content" -->
    <h2 class="section-header has-description">
        <a name="Class_Output"></a>
        Class Output
    </h2>
    <div class="section-content">

          <div class="section-description">
          A wayfire output.
          </div>
            <h3>Usage:</h3>
            <pre class="example section-example"><span class="keyword">local</span> view = <span class="comment">-- some View
</span><span class="keyword">local</span> output = view:get_output()
output:ensure_visible(view)
output:focus_view(view)</pre>
    <dl class="function">
    <dt>
    <a name = "Output:get_screen_size"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_screen_size(): <span class="backtick"><a href="index.html#Dimensions">Dimensions</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#365">line 365</a>
    </dt>
    <dd>
    Get the screen size of this output.
</dd>
    <dt>
    <a name = "Output:get_relative_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_relative_geometry(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#373">line 373</a>
    </dt>
    <dd>
    Get the screen size of this output as a Geometry.
 The <code>x,y</code> of the Geometry will be 0.
</dd>
    <dt>
    <a name = "Output:get_layout_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_layout_geometry(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#382">line 382</a>
    </dt>
    <dd>
    Get the geometry of the screen.
 This should include the screen dimensions as well as meaningful <code>x,y</code>
 coordinates.
</dd>
    <dt>
    <a name = "Output:ensure_pointer"></a>
    <pre class="signature"><span class="keyword">function</span> Output:ensure_pointer(center: <span class="backtick"><code>bool</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#393">line 393</a>
    </dt>
    <dd>
    Ensure the pointer is on this output.
 If the pointer isn't already on this output, move it.</p>

<p> If <code>center</code> is <code>true</code>, move the pointer to the center of the screen
 regardless of whether it is already on this output.
</dd>
    <dt>
    <a name = "Output:get_cursor_position"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_cursor_position(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#401">line 401</a>
    </dt>
    <dd>
    Get the cursor position relative to the output.
</dd>
    <dt>
    <a name = "Output:get_top_view"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_top_view(): <span class="backtick"><a href="index.html#View">View</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#408">line 408</a>
    </dt>
    <dd>
    Get the view at the top of the workspace layer.
</dd>
    <dt>
    <a name = "Output:get_active_view"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_active_view(): <span class="backtick"><a href="index.html#View">View</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#415">line 415</a>
    </dt>
    <dd>
    Get the most recently focused view on this output.
</dd>
    <dt>
    <a name = "Output:focus_view"></a>
    <pre class="signature"><span class="keyword">function</span> Output:focus_view(view: <span class="backtick"><a href="index.html#View">View</a></span>, raise: <span class="backtick"><code>bool</code></span>): <span class="backtick"><a href="index.html#View">View</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#425">line 425</a>
    </dt>
    <dd>
    Try to focus the view on this output.
 If <code>raise</code> is <code>true</code>, also raise it to the top of its layer.
</dd>
    <dt>
    <a name = "Output:ensure_visible"></a>
    <pre class="signature"><span class="keyword">function</span> Output:ensure_visible(view: <span class="backtick"><a href="index.html#View">View</a></span>): <span class="backtick"><code>bool</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#434">line 434</a>
    </dt>
    <dd>
    Switch workspaces to make this view visible.
</dd>
    <dt>
    <a name = "Output:get_workarea"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_workarea(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#441">line 441</a>
    </dt>
    <dd>
    Get the output's workarea geometry.
</dd>
</dl>
</div> <!-- class="section-content" -->
    <h2 class="section-header has-description">
        <a name="Class_View"></a>
        Class View
    </h2>
    <div class="section-content">

          <div class="section-description">
          A wayfire view.
          </div>
            <h3>Usage:</h3>
            <pre class="example section-example"><span class="comment">-- If view is foot, then set its geometry and hook into the 'title-changed'
</span><span class="comment">-- event of this view.
</span><span class="keyword">if</span> view:get_app_id() == <span class="string">'foot'</span> <span class="keyword">then</span>
    view:set_geometry({<span class="number">1</span>, <span class="number">2</span>, <span class="number">500</span>, <span class="number">300</span>})

    view:hook(<span class="string">'title-changed'</span>, <span class="keyword">function</span>(view, data)
        <span class="global">print</span>(<span class="string">'View title changed! New title:'</span>, data.view:get_title())
        <span class="global">assert</span>(view == data.view)
    <span class="keyword">end</span>)
<span class="keyword">end</span></pre>
    <dl class="function">
    <dt>
    <a name = "View:get_title"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_title(): <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#498">line 498</a>
    </dt>
    <dd>
    Get the view's title.
</dd>
    <dt>
    <a name = "View:get_app_id"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_app_id(): <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#505">line 505</a>
    </dt>
    <dd>
    Get the view's app id.
</dd>
    <dt>
    <a name = "View:get_wm_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_wm_geometry(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#512">line 512</a>
    </dt>
    <dd>
    Get the view's wm geometry.
</dd>
    <dt>
    <a name = "View:get_output_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_output_geometry(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#519">line 519</a>
    </dt>
    <dd>
    Get the view's output geometry.
</dd>
    <dt>
    <a name = "View:get_bounding_box"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_bounding_box(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#526">line 526</a>
    </dt>
    <dd>
    Get the view's bounding box.
</dd>
    <dt>
    <a name = "View:get_output"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_output(): <span class="backtick"><a href="index.html#Output">Output</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#533">line 533</a>
    </dt>
    <dd>
    Get the view's output.
</dd>
    <dt>
    <a name = "View:set_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> View:set_geometry(geo: <span class="backtick"><a href="index.html#Geometry">Geometry</a></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#539">line 539</a>
    </dt>
    <dd>
    Set the view's geometry.
    <h3>Usage:</h3>
    <ul class="examples">
        <pre class="example">view:set_geometry({x, y, w, h})</pre>
    </ul>
</dd>
    <dt>
    <a name = "View:hook"></a>
    <pre class="signature"><span class="keyword">function</span> View:hook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(view,data)</code></span>): <span class="backtick"><code>fn(view,data)</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#559">line 559</a>
    </dt>
    <dd>
    Hook into a signal on this view. </p>

<p> Start listening for and calling <code>handler</code> on this signal.
 The type of <code>data</code> depends on the signal being listened for.
 See (TODO: signal definitions page).
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example">view:hook(<span class="string">'title-changed'</span>, <span class="keyword">function</span>(view, data)
    <span class="global">print</span>(<span class="string">'View title changed! New title:'</span>, data.view:get_title())
    <span class="global">assert</span>(view == data.view)
<span class="keyword">end</span>)</pre></li>
        <li><pre class="example"><span class="global">assert</span>(handler == view:hook(<span class="string">'title-changed'</span>, handler))</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "View:unhook"></a>
    <pre class="signature"><span class="keyword">function</span> View:unhook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(view,data)</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#585">line 585</a>
    </dt>
    <dd>
    Unhook from a signal on this view. </p>

<p> Stop listening for and calling <code>handler</code> on this signal.
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> handler = view:hook(<span class="string">'title-changed'</span>, <span class="keyword">function</span>(view, data) <span class="keyword">end</span>)
view:unhook(<span class="string">'title-changed'</span>, handler)</pre></li>
        <li><pre class="example"><span class="keyword">local</span> handler = <span class="keyword">function</span>() <span class="keyword">end</span>
view:hook(<span class="string">'title-changed'</span>, handler)
view:hook(<span class="string">'app-id-changed'</span>, handler)
view:unhook(<span class="string">'title-changed'</span>, handler)
view:unhook(<span class="string">'app-id-changed'</span>, handler)</pre></li>
    </ul>
</dd>
</dl>
</div> <!-- class="section-content" -->
</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-11-24 02:40:40 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
