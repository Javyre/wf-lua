<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>wf-lua documentation</title>
    <link rel="stylesheet" href="ldoc.css" type="text/css" />
</head>
<body>
<div id="container">
<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->
<div id="main">
<!-- Menu -->
<nav id="navigation">
<br/>
<h1>wf-lua</h1>
<h2>Contents</h2>
<ul>
<li><a href="#Functions">Functions</a></li>
<li><a href="#Class_Core">Class Core </a></li>
<li><a href="#Class_Output">Class Output </a></li>
<li><a href="#Class_View">Class View </a></li>
</ul>
<h2>Modules</h2>
<ul class="nowrap">
  <li><strong>wf</strong></li>
</ul>
<h2>Topics</h2>
<ul class="">
  <li><a href="topics/readme.md.html">readme</a></li>
</ul>
<h2>Source</h2>
<ul class="nowrap">
  <li><a href="source/wf.lua.html">wf.lua</a></li>
</ul>
</nav> <!-- id="navigation" -->
<div id="content" class="">
<div class="module-info">
<h1>Module <code>wf</code></h1>
<p>High-level lua bindings to wayfire's API.</p>
<p>

</p>
    <h3>Info:</h3>
    <ul>
        <li><strong>License</strong>: GPL-v3</li>
        <li><strong>Author</strong>: Javier A. Pollak</li>
    </ul>
<br>
<h2><a href="#Functions">Functions</a></h2>
<div class="function_list toc_list">
	<div class="name"><a href="#set">set (args)</a></div>
	<div class="summary">Set option values in a given section.</div>
</div>
<br>
<h2><a href="#Class_Core">Class Core </a></h2>
<div class="function_list toc_list">
	<div class="name"><a href="#Core:set_cursor">Core:set_cursor (self, name)</a></div>
	<div class="summary">Set the cursor to the given name from the cursor theme.</div>
	<div class="name"><a href="#Core:hide_cursor">Core:hide_cursor (self)</a></div>
	<div class="summary">Request to hide the cursor.</div>
	<div class="name"><a href="#Core:unhide_cursor">Core:unhide_cursor (self)</a></div>
	<div class="summary">Request to unhide the cursor.</div>
	<div class="name"><a href="#Core:warp_cursor">Core:warp_cursor (self, position)</a></div>
	<div class="summary">Move the cursor to the given point.</div>
	<div class="name"><a href="#Core:get_cursor_position">Core:get_cursor_position (self)</a></div>
	<div class="summary">Get the cursor position in global coordinates.</div>
	<div class="name"><a href="#Core:get_cursor_focus_view">Core:get_cursor_focus_view (self)</a></div>
	<div class="summary">Get the view that currently has cursor focus.</div>
	<div class="name"><a href="#Core:get_touch_focus_view">Core:get_touch_focus_view (self)</a></div>
	<div class="summary">Get the view that currently has touch focus.</div>
	<div class="name"><a href="#Core:get_view_at">Core:get_view_at (self, point)</a></div>
	<div class="summary">Get the view at the given point.</div>
	<div class="name"><a href="#Core:set_active_view">Core:set_active_view (self, view)</a></div>
	<div class="summary">Give a view keyboard focus.</div>
	<div class="name"><a href="#Core:focus_view">Core:focus_view (self, view)</a></div>
	<div class="summary">Focus the given view and it's output.</div>
	<div class="name"><a href="#Core:focus_output">Core:focus_output (self, output)</a></div>
	<div class="summary">Focus the given output.</div>
	<div class="name"><a href="#Core:get_active_output">Core:get_active_output (self)</a></div>
	<div class="summary">Get the currently focused output.</div>
	<div class="name"><a href="#Core:move_view_to_output">Core:move_view_to_output (self, view, new_output, reconf)</a></div>
	<div class="summary">Move the given view to the output.</div>
	<div class="name"><a href="#Core:get_wayland_display">Core:get_wayland_display (self)</a></div>
	<div class="summary">Get the Wayland socket name of the current Wayland session.</div>
	<div class="name"><a href="#Core:get_xwayland_display">Core:get_xwayland_display (self)</a></div>
	<div class="summary">Get the XWayland display name.</div>
	<div class="name"><a href="#Core:run">Core:run (self, command)</a></div>
	<div class="summary">Run a command with the system POSIX shell.</div>
	<div class="name"><a href="#Core:shutdown">Core:shutdown (self)</a></div>
	<div class="summary">Shutdown the whole Wayfire process.</div>
	<div class="name"><a href="#Core:get_output_layout">Core:get_output_layout (self)</a></div>
	<div class="summary">Get the OutputLayout object representing the layout of the outputs.</div>
	<div class="name"><a href="#Core:hook">Core:hook (self, signal, handler)</a></div>
	<div class="summary">Hook into a signal on the Wayfire instance.</div>
	<div class="name"><a href="#Core:unhook">Core:unhook (self, signal, handler)</a></div>
	<div class="summary">Unhook from a signal on the Wayfire instance.</div>
</div>
<br>
<h2><a href="#Class_Output">Class Output </a></h2>
<div class="function_list toc_list">
	<div class="name"><a href="#Output:get_output_at">Output:get_output_at (self, x, y)</a></div>
	<div class="summary">Get the output at the given coordinates.</div>
	<div class="name"><a href="#Output:get_output_coords_at">Output:get_output_coords_at (self, origin)</a></div>
	<div class="summary">Get the output at the given coordinates and the closest point on it.</div>
	<div class="name"><a href="#Output:get_num_outputs">Output:get_num_outputs (self)</a></div>
	<div class="summary">Get the number of current outputs.</div>
	<div class="name"><a href="#Output:get_next_output">Output:get_next_output (self, prev)</a></div>
	<div class="summary">Iterate through the current outputs.</div>
	<div class="name"><a href="#Output:find_output">Output:find_output (self, name)</a></div>
	<div class="summary">Get an output by name.</div>
	<div class="name"><a href="#Output:hook">Output:hook (self, signal, handler)</a></div>
	<div class="summary">Hook into a signal on the output layout.</div>
	<div class="name"><a href="#Output:unhook">Output:unhook (self, signal, handler)</a></div>
	<div class="summary">Unhook from a signal on the output layout.</div>
	<div class="name"><a href="#Output:get_screen_size">Output:get_screen_size (self)</a></div>
	<div class="summary">Get the screen size of this output.</div>
	<div class="name"><a href="#Output:get_relative_geometry">Output:get_relative_geometry (self)</a></div>
	<div class="summary">Get the screen size of this output as a Geometry.</div>
	<div class="name"><a href="#Output:get_layout_geometry">Output:get_layout_geometry (self)</a></div>
	<div class="summary">Get the geometry of the screen.</div>
	<div class="name"><a href="#Output:ensure_pointer">Output:ensure_pointer (self, center)</a></div>
	<div class="summary">Ensure the pointer is on this output.</div>
	<div class="name"><a href="#Output:get_cursor_position">Output:get_cursor_position (self)</a></div>
	<div class="summary">Get the cursor position relative to the output.</div>
	<div class="name"><a href="#Output:get_top_view">Output:get_top_view (self)</a></div>
	<div class="summary">Get the view at the top of the workspace layer.</div>
	<div class="name"><a href="#Output:get_active_view">Output:get_active_view (self)</a></div>
	<div class="summary">Get the most recently focused view on this output.</div>
	<div class="name"><a href="#Output:focus_view">Output:focus_view (self, view, raise)</a></div>
	<div class="summary">Try to focus the view on this output.</div>
	<div class="name"><a href="#Output:ensure_visible">Output:ensure_visible (self, view)</a></div>
	<div class="summary">Switch workspaces to make this view visible.</div>
	<div class="name"><a href="#Output:get_workarea">Output:get_workarea (self)</a></div>
	<div class="summary">Get the output's workarea geometry.</div>
	<div class="name"><a href="#Output:hook">Output:hook (self, signal, handler)</a></div>
	<div class="summary">Hook into a signal on this output.</div>
	<div class="name"><a href="#Output:unhook">Output:unhook (self, signal, handler)</a></div>
	<div class="summary">Unhook from a signal on this output.</div>
</div>
<br>
<h2><a href="#Class_View">Class View </a></h2>
<div class="function_list toc_list">
	<div class="name"><a href="#View:get_title">View:get_title (self)</a></div>
	<div class="summary">Get the view's title.</div>
	<div class="name"><a href="#View:get_app_id">View:get_app_id (self)</a></div>
	<div class="summary">Get the view's app id.</div>
	<div class="name"><a href="#View:get_wm_geometry">View:get_wm_geometry (self)</a></div>
	<div class="summary">Get the view's wm geometry.</div>
	<div class="name"><a href="#View:get_output_geometry">View:get_output_geometry (self)</a></div>
	<div class="summary">Get the view's output geometry.</div>
	<div class="name"><a href="#View:get_bounding_box">View:get_bounding_box (self)</a></div>
	<div class="summary">Get the view's bounding box.</div>
	<div class="name"><a href="#View:get_output">View:get_output (self)</a></div>
	<div class="summary">Get the view's output.</div>
	<div class="name"><a href="#View:set_geometry">View:set_geometry (self, geo)</a></div>
	<div class="summary">Set the view's geometry.</div>
	<div class="name"><a href="#View:hook">View:hook (self, signal, handler)</a></div>
	<div class="summary">Hook into a signal on this view.</div>
	<div class="name"><a href="#View:unhook">View:unhook (self, signal, handler)</a></div>
	<div class="summary">Unhook from a signal on this view.</div>
	<div class="name"><a href="#outputs:hook">outputs:hook (signal, handler)</a></div>
	<div class="summary">Hook into a signal on all outputs.</div>
	<div class="name"><a href="#outputs:unhook">outputs:unhook (signal, handler)</a></div>
	<div class="summary">Unhook from a signal on all outputs.</div>
</div>
<br/>
</div> <!-- id="module-info" -->
    <h2 class="section-header ">
        <a name="Functions"></a>
        Functions
    </h2>
    <div class="section-content">

    <dl class="function">
    <dt>
    <a name = "set"></a>
    <pre class="signature"><span class="keyword">function</span> set(args: <span class="backtick"><code>{section,option=value,...}</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#236">line 236</a>
    </dt>
    <dd>
    Set option values in a given section. </p>

<p> The section and option names must already be registered in wayfire by it or
 some plugin.
    <h3>Usage:</h3>
    <ul class="examples">
        <pre class="example"><span class="comment">--The arguments are passed in the form:
</span>set { <span class="string">'section'</span>, option = value, ...}

<span class="comment">-- The wayfire.ini equivalent:
</span><span class="comment">--
</span><span class="comment">-- [section]
</span><span class="comment">-- option = value
</span><span class="comment">-- ...</span></pre>
    </ul>
</dd>
</dl>
</div> <!-- class="section-content" -->
    <h2 class="section-header has-description">
        <a name="Class_Core"></a>
        Class Core
    </h2>
    <div class="section-content">

          <div class="section-description">
          The Wayfire compositor instance.
          </div>
            <h3>Usage:</h3>
            <pre class="example section-example"><span class="keyword">local</span> core = wf.get_core()
<span class="comment">-- move the cursor to (100, 100)
</span>core:warp_cursor({<span class="number">100</span>, <span class="number">100</span>})</pre>
    <dl class="function">
    <dt>
    <a name = "Core:set_cursor"></a>
    <pre class="signature"><span class="keyword">function</span> Core:set_cursor(name: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#342">line 342</a>
    </dt>
    <dd>
    Set the cursor to the given name from the cursor theme.
</dd>
    <dt>
    <a name = "Core:hide_cursor"></a>
    <pre class="signature"><span class="keyword">function</span> Core:hide_cursor()</pre>
    <a style="float:right;" href="source/wf.lua.html#351">line 351</a>
    </dt>
    <dd>
    Request to hide the cursor. </p>

<p> Increments the hide-cursor reference count and hides the cursor if
 it is not already hidden.
</dd>
    <dt>
    <a name = "Core:unhide_cursor"></a>
    <pre class="signature"><span class="keyword">function</span> Core:unhide_cursor()</pre>
    <a style="float:right;" href="source/wf.lua.html#358">line 358</a>
    </dt>
    <dd>
    Request to unhide the cursor. </p>

<p> Decrement the hide-cursor reference count. If it goes to 0, then the
 cursor is actually unhidden.
</dd>
    <dt>
    <a name = "Core:warp_cursor"></a>
    <pre class="signature"><span class="keyword">function</span> Core:warp_cursor(position: <span class="backtick"><a href="index.html#Pointf">Pointf</a></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#365">line 365</a>
    </dt>
    <dd>
    Move the cursor to the given point. </p>

<p> The point is interpreted as being in global coordinates.
</dd>
    <dt>
    <a name = "Core:get_cursor_position"></a>
    <pre class="signature"><span class="keyword">function</span> Core:get_cursor_position(): <span class="backtick"><a href="index.html#Pointf">Pointf</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#373">line 373</a>
    </dt>
    <dd>
    Get the cursor position in global coordinates.
</dd>
    <dt>
    <a name = "Core:get_cursor_focus_view"></a>
    <pre class="signature"><span class="keyword">function</span> Core:get_cursor_focus_view(): <span class="backtick"><a href="index.html#View">View</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#381">line 381</a>
    </dt>
    <dd>
    Get the view that currently has cursor focus.
</dd>
    <dt>
    <a name = "Core:get_touch_focus_view"></a>
    <pre class="signature"><span class="keyword">function</span> Core:get_touch_focus_view(): <span class="backtick"><a href="index.html#View">View</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#389">line 389</a>
    </dt>
    <dd>
    Get the view that currently has touch focus.
</dd>
    <dt>
    <a name = "Core:get_view_at"></a>
    <pre class="signature"><span class="keyword">function</span> Core:get_view_at(point: <span class="backtick"><a href="index.html#Pointf">Pointf</a></span>): <span class="backtick"><code>?View</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#400">line 400</a>
    </dt>
    <dd>
    Get the view at the given point. </p>

<p> The point is interpreted as being in global coordinates.
 Returns <code>nil</code> if there is no view at the point.
</dd>
    <dt>
    <a name = "Core:set_active_view"></a>
    <pre class="signature"><span class="keyword">function</span> Core:set_active_view(view: <span class="backtick"><a href="index.html#View">View</a></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#408">line 408</a>
    </dt>
    <dd>
    Give a view keyboard focus.
</dd>
    <dt>
    <a name = "Core:focus_view"></a>
    <pre class="signature"><span class="keyword">function</span> Core:focus_view(view: <span class="backtick"><a href="index.html#View">View</a></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#417">line 417</a>
    </dt>
    <dd>
    Focus the given view and it's output. </p>

<p> Also brings the view to the front of the stack.
</dd>
    <dt>
    <a name = "Core:focus_output"></a>
    <pre class="signature"><span class="keyword">function</span> Core:focus_output(output: <span class="backtick"><a href="index.html#Output">Output</a></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#425">line 425</a>
    </dt>
    <dd>
    Focus the given output.
</dd>
    <dt>
    <a name = "Core:get_active_output"></a>
    <pre class="signature"><span class="keyword">function</span> Core:get_active_output(): <span class="backtick"><a href="index.html#Output">Output</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#433">line 433</a>
    </dt>
    <dd>
    Get the currently focused output.
</dd>
    <dt>
    <a name = "Core:move_view_to_output"></a>
    <pre class="signature"><span class="keyword">function</span> Core:move_view_to_output(view: <span class="backtick"><a href="index.html#View">View</a></span>, new_output: <span class="backtick"><a href="index.html#Output">Output</a></span>, reconf: <span class="backtick"><code>bool</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#446">line 446</a>
    </dt>
    <dd>
    Move the given view to the output. </p>

<p> If <code>reconf</code> is <code>true</code>, then clamp the view's geometry to the
 target output's geometry.
</dd>
    <dt>
    <a name = "Core:get_wayland_display"></a>
    <pre class="signature"><span class="keyword">function</span> Core:get_wayland_display(): <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#456">line 456</a>
    </dt>
    <dd>
    Get the Wayland socket name of the current Wayland session.
</dd>
    <dt>
    <a name = "Core:get_xwayland_display"></a>
    <pre class="signature"><span class="keyword">function</span> Core:get_xwayland_display(): <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#464">line 464</a>
    </dt>
    <dd>
    Get the XWayland display name.
</dd>
    <dt>
    <a name = "Core:run"></a>
    <pre class="signature"><span class="keyword">function</span> Core:run(command: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>): <span class="backtick"><code>int</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#477">line 477</a>
    </dt>
    <dd>
    Run a command with the system POSIX shell. </p>

<p> Sets the correct <code>WAYLAND_DISPLAY</code> and <code>DISPLAY</code> variables as well as
 others in order to make the process properly aware of the Wayfire
 session.
</dd>
    <dt>
    <a name = "Core:shutdown"></a>
    <pre class="signature"><span class="keyword">function</span> Core:shutdown()</pre>
    <a style="float:right;" href="source/wf.lua.html#482">line 482</a>
    </dt>
    <dd>
    Shutdown the whole Wayfire process.
</dd>
    <dt>
    <a name = "Core:get_output_layout"></a>
    <pre class="signature"><span class="keyword">function</span> Core:get_output_layout(): <span class="backtick"><code>OutputLayout</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#489">line 489</a>
    </dt>
    <dd>
    Get the OutputLayout object representing the layout of the outputs.
</dd>
    <dt>
    <a name = "Core:hook"></a>
    <pre class="signature"><span class="keyword">function</span> Core:hook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(core,data)</code></span>): <span class="backtick"><code>fn(core,data)</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#527">line 527</a>
    </dt>
    <dd>
    Hook into a signal on the Wayfire instance. </p>

<p> Start listening for and calling <code>handler</code> on this signal.
 The type of <code>data</code> depends on the signal being listened for.
 See (TODO: signal definitions page).
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example">wf.get_core():hook(<span class="string">'reload-config'</span>, <span class="keyword">function</span>(core, data)
    <span class="global">print</span>(<span class="string">'The wayfire config has been reloaded!'</span>)
<span class="keyword">end</span>)</pre></li>
        <li><pre class="example"><span class="keyword">local</span> wf = <span class="global">require</span>(<span class="string">'wf'</span>)

<span class="comment">-- Whatever the wayfire config file says, override the option value
</span><span class="comment">-- as soon as it's reloaded.
</span><span class="keyword">do</span>
    <span class="keyword">local</span> my_settings = <span class="keyword">function</span>()
        wf.set {<span class="string">'core'</span>, background_color = <span class="string">'#344B5DFF'</span>}
    <span class="keyword">end</span>

    <span class="keyword">local</span> core = wf.get_core()
    core:hook(<span class="string">'reload-config'</span>, <span class="keyword">function</span>(core, data)
        <span class="comment">-- Config was reloaded
</span>        my_settings()
    <span class="keyword">end</span>)

    my_settings()
<span class="keyword">end</span></pre></li>
        <li><pre class="example"><span class="global">assert</span>(handler == wf.get_core():hook(<span class="string">'startup-finished'</span>, handler))</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "Core:unhook"></a>
    <pre class="signature"><span class="keyword">function</span> Core:unhook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(core,data)</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#557">line 557</a>
    </dt>
    <dd>
    Unhook from a signal on the Wayfire instance. </p>

<p> Stop listening for and calling <code>handler</code> on this signal.
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> handler = wf.get_core():hook(<span class="string">'view-created'</span>,
                            <span class="keyword">function</span>(core, data) <span class="keyword">end</span>)
core:unhook(<span class="string">'view-created'</span>, handler)</pre></li>
        <li><pre class="example"><span class="keyword">local</span> core = wf.get_core()
<span class="keyword">local</span> handler = <span class="keyword">function</span>() <span class="keyword">end</span>
core:hook(<span class="string">'view-created'</span>, handler)
core:hook(<span class="string">'startup-finished'</span>, handler)
core:unhook(<span class="string">'view-created'</span>, handler)
core:unhook(<span class="string">'startup-finished'</span>, handler)</pre></li>
    </ul>
</dd>
</dl>
</div> <!-- class="section-content" -->
    <h2 class="section-header has-description">
        <a name="Class_Output"></a>
        Class Output
    </h2>
    <div class="section-content">

          <div class="section-description">
          The current layout of the outputs. </p>

<p> Mainly useful for hooking into output layout signals like <code>&quot;output-added&quot;</code>.
          </div>
            <h3>Usage:</h3>
            <pre class="example section-example"><span class="keyword">local</span> output_layout = wf.get_core():get_output_layout()
output_layout:hook(<span class="string">"output-added"</span>, <span class="keyword">function</span>(output_layout, data)
    <span class="global">print</span>(<span class="string">"new output!"</span>, data.output)
<span class="keyword">end</span>)</pre>
    <dl class="function">
    <dt>
    <a name = "Output:get_output_at"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_output_at(x: <span class="backtick"><code>number</code></span>, y: <span class="backtick"><code>number</code></span>): <span class="backtick"><a href="index.html#Output">Output</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#587">line 587</a>
    </dt>
    <dd>
    Get the output at the given coordinates. </p>

<p> Returns nil if no output is on the specified coordinate.
</dd>
    <dt>
    <a name = "Output:get_output_coords_at"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_output_coords_at(origin: <span class="backtick"><a href="index.html#Pointf">Pointf</a></span>): <span class="backtick"><a href="index.html#Output">Output</a></span>, <span class="backtick"><a href="index.html#Pointf">Pointf</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#601">line 601</a>
    </dt>
    <dd>
    Get the output at the given coordinates and the closest point on it. </p>

<p> Returns <code>output, closest</code> meaning the output found at the given
 origin point and the closest point to the given origin on the output.
</dd>
    <dt>
    <a name = "Output:get_num_outputs"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_num_outputs(): <span class="backtick"><code>number</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#613">line 613</a>
    </dt>
    <dd>
    Get the number of current outputs.
</dd>
    <dt>
    <a name = "Output:get_next_output"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_next_output(prev: <span class="backtick"><a href="index.html#Output">Output</a></span>): <span class="backtick"><a href="index.html#Output">Output</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#632">line 632</a>
    </dt>
    <dd>
    Iterate through the current outputs. </p>

<p> Start by calling this function with <code>nil</code> as parameter and then
 successively call it until the returned value is the same as the
 first call.

    <h3>Usage:</h3>
    <ul class="examples">
        <pre class="example"><span class="keyword">local</span> first = output_layout:get_next_output(<span class="keyword">nil</span>)
<span class="keyword">local</span> output = first
<span class="keyword">repeat</span>
    <span class="global">print</span>(<span class="string">"Current output:"</span>, output)
    <span class="keyword">local</span> output = output_layout:get_next_output(output)
<span class="keyword">until</span> output == first</pre>
    </ul>
</dd>
    <dt>
    <a name = "Output:find_output"></a>
    <pre class="signature"><span class="keyword">function</span> Output:find_output(name: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>): <span class="backtick"><a href="index.html#Output">Output</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#641">line 641</a>
    </dt>
    <dd>
    Get an output by name.

</dd>
    <dt>
    <a name = "Output:hook"></a>
    <pre class="signature"><span class="keyword">function</span> Output:hook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(layout,data)</code></span>): <span class="backtick"><code>fn(layout,data)</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#666">line 666</a>
    </dt>
    <dd>
    Hook into a signal on the output layout. </p>

<p> Start listening for and calling <code>handler</code> on this signal.
 The type of <code>data</code> depends on the signal being listened for.
 See (TODO: signal definitions page).
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> layout = wf.get_core():get_output_layout()
layout:hook(<span class="string">'output-added'</span>, <span class="keyword">function</span>(layout, data)
    <span class="global">print</span>(<span class="string">'An output has been added:'</span>, data.output)
<span class="keyword">end</span>)</pre></li>
        <li><pre class="example"><span class="global">assert</span>(handler == layout:hook(<span class="string">'output-removed'</span>, handler))</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "Output:unhook"></a>
    <pre class="signature"><span class="keyword">function</span> Output:unhook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(layout,data)</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#697">line 697</a>
    </dt>
    <dd>
    Unhook from a signal on the output layout. </p>

<p> Stop listening for and calling <code>handler</code> on this signal.
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> handler = wf.get_core():hook(<span class="string">'output-added'</span>,
                            <span class="keyword">function</span>(layout, data) <span class="keyword">end</span>)
core:unhook(<span class="string">'output-added'</span>, handler)</pre></li>
        <li><pre class="example"><span class="keyword">local</span> layout = wf.get_core():get_output_layout()
<span class="keyword">local</span> handler = <span class="keyword">function</span>() <span class="keyword">end</span>
layout:hook(<span class="string">'output-added'</span>, handler)
layout:hook(<span class="string">'output-removed'</span>, handler)
layout:unhook(<span class="string">'output-added'</span>, handler)
layout:unhook(<span class="string">'output-removed'</span>, handler)</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "Output:get_screen_size"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_screen_size(): <span class="backtick"><a href="index.html#Dimensions">Dimensions</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#719">line 719</a>
    </dt>
    <dd>
    Get the screen size of this output.
</dd>
    <dt>
    <a name = "Output:get_relative_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_relative_geometry(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#727">line 727</a>
    </dt>
    <dd>
    Get the screen size of this output as a Geometry.
 The <code>x,y</code> of the Geometry will be 0.
</dd>
    <dt>
    <a name = "Output:get_layout_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_layout_geometry(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#736">line 736</a>
    </dt>
    <dd>
    Get the geometry of the screen.
 This should include the screen dimensions as well as meaningful <code>x,y</code>
 coordinates.
</dd>
    <dt>
    <a name = "Output:ensure_pointer"></a>
    <pre class="signature"><span class="keyword">function</span> Output:ensure_pointer(center: <span class="backtick"><code>bool</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#747">line 747</a>
    </dt>
    <dd>
    Ensure the pointer is on this output.
 If the pointer isn't already on this output, move it.</p>

<p> If <code>center</code> is <code>true</code>, move the pointer to the center of the screen
 regardless of whether it is already on this output.
</dd>
    <dt>
    <a name = "Output:get_cursor_position"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_cursor_position(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#755">line 755</a>
    </dt>
    <dd>
    Get the cursor position relative to the output.
</dd>
    <dt>
    <a name = "Output:get_top_view"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_top_view(): <span class="backtick"><a href="index.html#View">View</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#762">line 762</a>
    </dt>
    <dd>
    Get the view at the top of the workspace layer.
</dd>
    <dt>
    <a name = "Output:get_active_view"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_active_view(): <span class="backtick"><a href="index.html#View">View</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#769">line 769</a>
    </dt>
    <dd>
    Get the most recently focused view on this output.
</dd>
    <dt>
    <a name = "Output:focus_view"></a>
    <pre class="signature"><span class="keyword">function</span> Output:focus_view(view: <span class="backtick"><a href="index.html#View">View</a></span>, raise: <span class="backtick"><code>bool</code></span>): <span class="backtick"><a href="index.html#View">View</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#779">line 779</a>
    </dt>
    <dd>
    Try to focus the view on this output.
 If <code>raise</code> is <code>true</code>, also raise it to the top of its layer.
</dd>
    <dt>
    <a name = "Output:ensure_visible"></a>
    <pre class="signature"><span class="keyword">function</span> Output:ensure_visible(view: <span class="backtick"><a href="index.html#View">View</a></span>): <span class="backtick"><code>bool</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#788">line 788</a>
    </dt>
    <dd>
    Switch workspaces to make this view visible.
</dd>
    <dt>
    <a name = "Output:get_workarea"></a>
    <pre class="signature"><span class="keyword">function</span> Output:get_workarea(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#795">line 795</a>
    </dt>
    <dd>
    Get the output's workarea geometry.
</dd>
    <dt>
    <a name = "Output:hook"></a>
    <pre class="signature"><span class="keyword">function</span> Output:hook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(output,data)</code></span>): <span class="backtick"><code>fn(output,data)</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#814">line 814</a>
    </dt>
    <dd>
    Hook into a signal on this output. </p>

<p> Start listening for and calling <code>handler</code> on this signal.
 The type of <code>data</code> depends on the signal being listened for.
 See (TODO: signal definitions page).
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example">output:hook(<span class="string">'view-mapped'</span>, <span class="keyword">function</span>(output, data)
    <span class="global">print</span>(<span class="string">'View '</span>, data.view:get_title(), <span class="string">' mapped!'</span>)
<span class="keyword">end</span>)</pre></li>
        <li><pre class="example"><span class="global">assert</span>(handler == output:hook(<span class="string">'view-focused'</span>, handler))</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "Output:unhook"></a>
    <pre class="signature"><span class="keyword">function</span> Output:unhook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(output,data)</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#843">line 843</a>
    </dt>
    <dd>
    Unhook from a signal on this output. </p>

<p> Stop listening for and calling <code>handler</code> on this signal.
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> handler = output:hook(<span class="string">'view-focused'</span>,
                            <span class="keyword">function</span>(output, data) <span class="keyword">end</span>)
output:unhook(<span class="string">'view-focused'</span>, handler)</pre></li>
        <li><pre class="example"><span class="keyword">local</span> handler = <span class="keyword">function</span>() <span class="keyword">end</span>
output:hook(<span class="string">'view-mapped'</span>, handler)
output:hook(<span class="string">'view-focused'</span>, handler)
output:unhook(<span class="string">'view-mapped'</span>, handler)
output:unhook(<span class="string">'view-focused'</span>, handler)</pre></li>
    </ul>
</dd>
</dl>
</div> <!-- class="section-content" -->
    <h2 class="section-header has-description">
        <a name="Class_View"></a>
        Class View
    </h2>
    <div class="section-content">

          <div class="section-description">
          A wayfire view.
          </div>
            <h3>Usage:</h3>
            <pre class="example section-example"><span class="comment">-- If view is foot, then set its geometry and hook into the 'title-changed'
</span><span class="comment">-- event of this view.
</span><span class="keyword">if</span> view:get_app_id() == <span class="string">'foot'</span> <span class="keyword">then</span>
    view:set_geometry({<span class="number">1</span>, <span class="number">2</span>, <span class="number">500</span>, <span class="number">300</span>})

    view:hook(<span class="string">'title-changed'</span>, <span class="keyword">function</span>(view, data)
        <span class="global">print</span>(<span class="string">'View title changed! New title:'</span>, data.view:get_title())
        <span class="global">assert</span>(view == data.view)
    <span class="keyword">end</span>)
<span class="keyword">end</span></pre>
    <dl class="function">
    <dt>
    <a name = "View:get_title"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_title(): <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#872">line 872</a>
    </dt>
    <dd>
    Get the view's title.
</dd>
    <dt>
    <a name = "View:get_app_id"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_app_id(): <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#879">line 879</a>
    </dt>
    <dd>
    Get the view's app id.
</dd>
    <dt>
    <a name = "View:get_wm_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_wm_geometry(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#886">line 886</a>
    </dt>
    <dd>
    Get the view's wm geometry.
</dd>
    <dt>
    <a name = "View:get_output_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_output_geometry(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#893">line 893</a>
    </dt>
    <dd>
    Get the view's output geometry.
</dd>
    <dt>
    <a name = "View:get_bounding_box"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_bounding_box(): <span class="backtick"><a href="index.html#Geometry">Geometry</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#900">line 900</a>
    </dt>
    <dd>
    Get the view's bounding box.
</dd>
    <dt>
    <a name = "View:get_output"></a>
    <pre class="signature"><span class="keyword">function</span> View:get_output(): <span class="backtick"><a href="index.html#Output">Output</a></span></pre>
    <a style="float:right;" href="source/wf.lua.html#907">line 907</a>
    </dt>
    <dd>
    Get the view's output.
</dd>
    <dt>
    <a name = "View:set_geometry"></a>
    <pre class="signature"><span class="keyword">function</span> View:set_geometry(geo: <span class="backtick"><a href="index.html#Geometry">Geometry</a></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#913">line 913</a>
    </dt>
    <dd>
    Set the view's geometry.
    <h3>Usage:</h3>
    <ul class="examples">
        <pre class="example">view:set_geometry({x, y, w, h})</pre>
    </ul>
</dd>
    <dt>
    <a name = "View:hook"></a>
    <pre class="signature"><span class="keyword">function</span> View:hook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(view,data)</code></span>): <span class="backtick"><code>fn(view,data)</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#933">line 933</a>
    </dt>
    <dd>
    Hook into a signal on this view. </p>

<p> Start listening for and calling <code>handler</code> on this signal.
 The type of <code>data</code> depends on the signal being listened for.
 See (TODO: signal definitions page).
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example">view:hook(<span class="string">'title-changed'</span>, <span class="keyword">function</span>(view, data)
    <span class="global">print</span>(<span class="string">'View title changed! New title:'</span>, data.view:get_title())
    <span class="global">assert</span>(view == data.view)
<span class="keyword">end</span>)</pre></li>
        <li><pre class="example"><span class="global">assert</span>(handler == view:hook(<span class="string">'title-changed'</span>, handler))</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "View:unhook"></a>
    <pre class="signature"><span class="keyword">function</span> View:unhook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(view,data)</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#960">line 960</a>
    </dt>
    <dd>
    Unhook from a signal on this view. </p>

<p> Stop listening for and calling <code>handler</code> on this signal.
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> handler = view:hook(<span class="string">'title-changed'</span>, <span class="keyword">function</span>(view, data) <span class="keyword">end</span>)
view:unhook(<span class="string">'title-changed'</span>, handler)</pre></li>
        <li><pre class="example"><span class="keyword">local</span> handler = <span class="keyword">function</span>() <span class="keyword">end</span>
view:hook(<span class="string">'title-changed'</span>, handler)
view:hook(<span class="string">'app-id-changed'</span>, handler)
view:unhook(<span class="string">'title-changed'</span>, handler)
view:unhook(<span class="string">'app-id-changed'</span>, handler)</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "outputs:hook"></a>
    <pre class="signature"><span class="keyword">function</span> outputs:hook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(output,data)</code></span>): <span class="backtick"><code>fn(output,data)</code></span></pre>
    <a style="float:right;" href="source/wf.lua.html#1028">line 1028</a>
    </dt>
    <dd>
    Hook into a signal on all outputs. </p>

<p> Start listening for and calling <code>handler</code> on this signal.
 <code>output</code> is the specific <a href="index.html#Output">Output</a> that triggered the signal.
 The type of <code>data</code> depends on the signal being listened for.
 See (TODO: signal definitions page).</p>

<p> Note that this differs from calling <code>Output:hook()</code> on a specific
 <code>output</code> as we are hooking into this signal for <em>all</em> outputs
 simultaneously.
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> wf = <span class="global">require</span> <span class="string">'wf'</span>

wf.outputs:hook(<span class="string">'view-focused'</span>, <span class="keyword">function</span>(output, data)
    <span class="global">print</span>(<span class="string">'View '</span>, data.view, <span class="string">' focused on output '</span>, output)
<span class="keyword">end</span>)</pre></li>
        <li><pre class="example"><span class="global">assert</span>(handler == wf.outputs:hook(<span class="string">'view-focused'</span>, handler))</pre></li>
    </ul>
</dd>
    <dt>
    <a name = "outputs:unhook"></a>
    <pre class="signature"><span class="keyword">function</span> outputs:unhook(signal: <span class="backtick"><a href="https://www.lua.org/manual/5.1/manual.html#5.4">string</a></span>, handler: <span class="backtick"><code>fn(output,data)</code></span>)</pre>
    <a style="float:right;" href="source/wf.lua.html#1055">line 1055</a>
    </dt>
    <dd>
    Unhook from a signal on all outputs. </p>

<p> Stop listening for and calling <code>handler</code> on this signal.
    <h3>Usage:</h3>
    <ul class="examples">
        <li><pre class="example"><span class="keyword">local</span> handler = wf.outputs:hook(<span class="string">'view-focused'</span>,
                                <span class="keyword">function</span>(output, data) <span class="keyword">end</span>)
wf.outputs:unhook(<span class="string">'view-focused'</span>, handler)</pre></li>
        <li><pre class="example"><span class="keyword">local</span> handler = <span class="keyword">function</span>() <span class="keyword">end</span>
wf.outputs:hook(<span class="string">'view-mapped'</span>, handler)
wf.outputs:hook(<span class="string">'view-focused'</span>, handler)
wf.outputs:unhook(<span class="string">'view-mapped'</span>, handler)
wf.outputs:unhook(<span class="string">'view-focused'</span>, handler)</pre></li>
    </ul>
</dd>
</dl>
</div> <!-- class="section-content" -->
</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.6</a></i>
<i style="float:right;">Last updated 2021-11-28 19:36:09 </i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
